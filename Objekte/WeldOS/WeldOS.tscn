[gd_scene load_steps=6 format=3 uid="uid://c2tvwgfbcfx6y"]

[ext_resource type="Script" path="res://Objekte/WeldOS/WeldOS.gd" id="1_sgfo3"]
[ext_resource type="PackedScene" uid="uid://cttqvlsid3jys" path="res://Objekte/WeldOS/WeldOS_main_menu.tscn" id="2_4mq8r"]
[ext_resource type="Texture2D" uid="uid://cveeloijooeh0" path="res://Zeichnungen/Level1_resized.jpg" id="3_an8og"]

[sub_resource type="GDScript" id="GDScript_iq1kn"]
script/source = "extends Control

var weld_os:Control
var todo_daten:Node
var aufgabenliste:ItemList

func _ready():
	weld_os = find_parent(\"WeldOS\")
	if weld_os==null:
		print(\"WeldOS konnte nicht gefunden werden! Wurde die Root Szene ausgeführt?\")

	todo_daten = find_child(\"TODO\")
	assert(todo_daten!=null,\"Keine TODO Node gefunden!\")
	aufgabenliste = find_child(\"Aufgaben\")
	assert(aufgabenliste!=null,\"Tab Aufgabe nicht gefunden!\")
	fortschritt_aktualisieren()

func _on_abbruch_pressed():
	weld_os.aktuelle_szene = weld_os.menu_szene

func fortschritt_aktualisieren():
	for aufgabe in todo_daten.get_children():
		var neuer_index:int = aufgabenliste.add_item(aufgabe.name)
		aufgabenliste.set_item_disabled(neuer_index,not aufgabe.get_meta(\"fertig\"))
"

[sub_resource type="PackedScene" id="PackedScene_n2lnp"]
_bundled = {
"conn_count": 1,
"conns": PackedInt32Array(1073741838, 1073741837, 62, 61, 2, 0, 0),
"editable_instances": [],
"names": PackedStringArray("WeldOsSchweisslevel", "Control", "layout_mode", "anchors_preset", "anchor_right", "anchor_bottom", "grow_horizontal", "grow_vertical", "script", "Tabs", "TabContainer", "layout_mode", "anchors_preset", "anchor_right", "anchor_bottom", "grow_horizontal", "grow_vertical", "Aufgaben", "ItemList", "layout_mode", "Zeichnung", "VBoxContainer", "visible", "layout_mode", "Label", "Label", "layout_mode", "text", "Bild", "TextureRect", "layout_mode", "texture", "stretch_mode", "Optionen", "VBoxContainer", "visible", "layout_mode", "Label", "Label", "layout_mode", "text", "Abbruch", "Button", "layout_mode", "text", "alignment", "xr meldung deaktivieren", "SubViewport", "use_xr", "size", "TODO", "Node", "Aufgabe 1 - Test", "Node", "metadata/fertig", "Aufgabe 2 - Test", "Node", "metadata/fertig", "Diese Aufgabe ist fertig", "Node", "metadata/fertig", "_on_abbruch_pressed", "pressed"),
"node_count": 14,
"node_paths": [NodePath("."), NodePath("./Tabs"), NodePath("./Tabs"), NodePath("./Tabs/Zeichnung"), NodePath("./Tabs/Zeichnung"), NodePath("./Tabs"), NodePath("./Tabs/Optionen"), NodePath("./Tabs/Optionen"), NodePath("."), NodePath("."), NodePath("./TODO"), NodePath("./TODO"), NodePath("./TODO"), NodePath("."), NodePath("Tabs/Optionen/Abbruch")],
"nodes": PackedInt32Array(-1, -1, 1, 0, -1, 7, 2, 0, 3, 1, 4, 2, 5, 3, 6, 4, 7, 5, 8, 6, 0, 1073741824, 0, 10, 9, -1, 6, 11, 7, 12, 8, 13, 9, 14, 10, 15, 11, 16, 12, 0, 1073741825, 0, 18, 17, -1, 1, 19, 13, 0, 1073741826, 0, 21, 20, -1, 2, 22, 14, 23, 15, 0, 1073741827, 0, 25, 24, -1, 2, 26, 16, 27, 17, 0, 1073741828, 0, 29, 28, -1, 3, 30, 18, 31, 19, 32, 20, 0, 1073741829, 0, 34, 33, -1, 2, 35, 21, 36, 22, 0, 1073741830, 0, 38, 37, -1, 2, 39, 23, 40, 24, 0, 1073741831, 0, 42, 41, -1, 3, 43, 25, 44, 26, 45, 27, 0, 1073741832, 0, 47, 46, -1, 2, 48, 28, 49, 29, 0, 1073741833, 0, 51, 50, -1, 0, 0, 1073741834, 0, 53, 52, -1, 1, 54, 30, 0, 1073741835, 0, 56, 55, -1, 1, 57, 31, 0, 1073741836, 0, 59, 58, -1, 1, 60, 32, 0),
"variants": [3, 15, 1.0, 1.0, 2, 2, SubResource("GDScript_iq1kn"), 1, 15, 1.0, 1.0, 2, 2, 2, false, 2, 2, "Zeichnung", 2, ExtResource("3_an8og"), 4, false, 2, 2, "Optionen", 2, "Kapitel abbrechen", 0, true, Vector2i(0, 0), false, false, true],
"version": 3
}

[node name="WeldOS" type="Control"]
editor_description = "Hauptnode des \"Betriebssystems\". Steuert alle Untermenüs"
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_sgfo3")
Packed_Menu_Szene = ExtResource("2_4mq8r")
Packed_Schweiss_Szene = SubResource("PackedScene_n2lnp")
